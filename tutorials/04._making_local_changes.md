# Making local changes

---

## Prerequisites

Make sure that you have fulfilled the prerequisites in [Running Terraform locally](./02._running_terraform_locally.md#prerequisites-to-run-terraform-locally).

---

## Before you apply

Once you have made changes to the Terraform files, here are some steps to go through. 

Format the code with:

```bash
$ terraform fmt
```

This will automatically format the code according to the HashiCorp style guide.

Now you can try out some [additional (non-Terraform) steps](#additional-non-terraform-steps) or you can continue.

Verify that the code is correct with:

```bash
$ terraform validate
```

This will check the syntax of the Terraform files. You could also consider installing a plugin for Terraform in your IDE to get real-time feedback.

Make a plan with:

```bash
$ terraform plan
```

Apply the changes with:

```bash
$ terraform apply
```

---

## Additional (non-Terraform) steps

You might want to run some additional checks with tools outside of the Terraform toolbox like Tflint, Checkov, or Tfsec.

All these commands assume that you are in the infrastructure folder. 

[Install tflint](https://github.com/terraform-linters/tflint) and run the linter with:

```bash
$ tflint
```

[Install Checkov](https://www.checkov.io/2.Basics/Installing%20Checkov.html) and run the scanner with:

```bash
$ checkov -d .
```

`-d` is the directory flag. It tells Checkov to scan the current directory.

[Install Tfsec](https://aquasecurity.github.io/tfsec/v1.4.2/getting-started/installation/) and run the scanner with:

```bash
$ tfsec .
```
